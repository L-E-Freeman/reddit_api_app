{% extends 'saved_posts/base.html' %}

{% block js %}
{% load static %}
<script src="{% static 'saved_posts/sort_table.js' %}">async</script>
{% endblock js %}

{% block content %}


<h1>{{post.post_title}}</h1>
<h2><a href="{{post.post_link}}">Link to post</a></h2>


<table id="commenttable" class="table table-bordered table-striped table-dark">
    <thead>
        <tr>
            <th>Comment</th>
            <th onclick="sortTable()">Number Upvotes</th>
        </tr>
    </thead>
    <tbody>
        {% for tlc in post.toplevelcomment_set.all|dictsortreversed:"number_upvotes" %} 
            <tr class="datarow">
                <td class="comment">
                    {{tlc.contents}}
                </td>

                <td class="numberupvotes">
                    {{tlc.number_upvotes}}
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock content %}

